# Crescent Chain Information

Contents

- [Status](#status)
- [Chain Data](#chain-data)

## Status

- Timeline
  - 2022-12-01: Spawn time: `2022-12-01T15:00:00.000000000Z`
  - 2022-11-30: Proposal XX voting period ends
  - 2022-11-28: Proposal XX goes into voting period
  - 2022-11-28: Genesis file without CCV state is generated

`B-Harvest` will launch as a consumer chain through a governance proposal in the `provider` chain. Read the [Consumer Chain Start Process](/docs/Consumer-Chain-Start-Process.md) page for more details about the workflow.

The following items will be included in the proposal:

- Genesis file hash
  - The SHA256 is used to verify against the genesis file that the proposer has made available for review.
  - This "fresh" genesis file cannot be used to run the chain: it must be updated with the CCV states after the spawn time is reached.
- Binary hash
- Spawn time
  - Even if the proposal passes, the CCV states will not be available from the provider chain until after the spawn time is reached.

## Chain Data

### Get a binary

The binary published in this repo is the `crescentd` binary built using the this repo branch [v3.0.0-rc5-ibcv3-ics](https://github.com/nodebreaker0-0/crescent/tree/v3.0.0-rc5-ibcv3-ics).

You can download the binary following below commands.

```bash
wget https://github.com/b-harvest/game-of-chains/raw/main/crescent/crescentd
chmod +x crescentd
```

You can generate the binary following below commands.

```bash
git clone https://github.com/nodebreaker0-0/crescent
cd crescent
git checkout v3.0.0-rc5-ibcv3-ics
make install
```

### Verify Binary Checksum.

Binary checksums can differ based on many things to include go, libc, and make versions.

- [Linux amd64 build](crescentd)
- Version: `3.0.0-rc5-3-g6a536b92`
- SHA256: `4a49b56372cec22f569d3a41c3072cc82e4d7bfba2015275c6133b295d754de8`

Now, verify the checksum on your local ubuntu server

```
#run on your ubuntu server
sha256sum /home/ubuntu/go/bin/crescentd
```

expected return `4a49b56372cec22f569d3a41c3072cc82e4d7bfba2015275c6133b295d754de8`

### Genesis file

**The genesis file for Interchain Security consumer chains must include the CCV (Cross Chain Validation) state generated by the provider chain _after_ the spawn time is reached.**

Final genesis file **with CCV state**: [`crescent-genesis.json`](crescent-genesis.json)

- SHA256: `655403aaaefb476c8425b3f452157b93caade9661b594a42336ffb30e223e7d4`
- Validators must replace their `config/genesis.json` file with this one before running the binary.

The genesis file with was generated using the following settings:

- Chain ID: `goc-crescent`
- Denom: `ucre`
- Signed blocks window: `"8640"`
- Genesis accounts were added to provide funds for a faucet and a relayer that will be run by the testnet coordinators.
- Genesis file **without CCV state**: [`crescent-fresh-genesis.json`](crescent-fresh-genesis.json), SHA256: `bd4157d88f6370f04f8c3c0c675f529f4219a97e6a285339a61b4a9a69c8f6e2`
  - **This is provided only for verification, this is not the genesis file validators should be running their nodes with.**

## Endpoints

- **seeds : `dd64f68070847a00413ecbe2dc0ed01e584ace57@goc-seeds.lavenderfive.com:35656` **

- **p2p persistent peers : `e2f18d98b2c37931d4a90d3c13dbae2a72f27adc@51.195.63.75:11356,f37b78d227d6d06f416a6667f979f4a8bdef78e3@51.195.88.107:11356`**
- These peers represent the `B-Harvest` validator. We are accepting `100` inbound peeers, but please consider sharing your peers in discord, or create a PR to [`peers.txt`](peers.txt)

- Please keep in mind that any validator that does not come online after 67% of the voting power is up and running, is likely to be slashed for downtime, potentially resulting in being jailed (the `signed_blocks_window` parameter is set to `8640`).

## Join via Bash Script

On the node machine:

- Copy the `node_key.json` and `priv_validator_key.json` files for your validator.
  - **These should be the same ones as the ones from your provider node**.
- Run one of the following scripts:
  - crescent service: [crescent-init.sh](crescent-init.sh)
  - Cosmovisor service: [crescent-init-cv.sh](crescent-init-cv.sh)
- Wait until the spawn time is reached and the genesis file with the CCV states is available.
- Overwrite the genesis file with the one that includes the CCV states.
  - The default location is `$HOME/.crescent/config/genesis.json`.
- Enable and start the service:
  - crescentd
    ```
    sudo systemctl enable crescent
    sudo systemctl start crescent
    ```
  - Cosmovisor
    ```
    sudo systemctl enable cv-crescent
    sudo systemctl start cv-crescent
    ```
- To follow the log, use:
  - crescent: `journalctl -fu crescent`
  - Cosmovisor: `journalctl -fu cv-crescent`
- If the log does not show up right away, run `systemctl restart systemd-journald`.

## Infos

### addrbook
```
wget https://service.bharvest.io/info/goc-crescent-addressbook.json
```

### peers
```
88aef9532d8825c467c0a6a2f090d1f278cb0c03@164.92.169.128:56656,8c2c4a1f0dfc6004c69c5c92afa68a29e1cd639c@57.128.20.118:27556,28c9150e93140cbcee30c653d0acb5ece817ef3d@157.90.10.107:26686,6607c63600cd1635ef6ccbb017f6cc248bfc8065@135.181.16.163:39301,851426ec006941a5c03eea02bcec3a88713c8348@65.108.192.123:20656,0e0268bea0dfed7527a0bfb579c65de17e2301ca@65.109.34.57:58656,87918a2d232c67c265d0ed43d403548fd165455f@135.181.107.234:26656,0ba43bee03f636b68f204a0089bb737ac4810996@203.135.141.59:26666,269ee886a89abc57280fe3db84ec64ec0af3f3af@167.172.77.82:26756,a1619e72a1bfdfe00bd67fa3851ca290b00cdcf1@3.35.29.249:26656,f37b78d227d6d06f416a6667f979f4a8bdef78e3@51.195.88.107:11356,d91e1ed96886aef343bea027af1a721207e6cfcf@80.64.208.139:26886,567120b0bbc33512b9d1864cd4518cdc82cdf097@34.141.7.184:27556,e281bdf052dad68ccf40777cb7d25649a5b9fa26@207.180.219.160:36956,540d065d2decec0fefb7341396ee16b7f4d2129a@185.146.148.118:26656,f1a2afe2c9304c4b05298f54f04c91d41de29f05@65.21.126.182:26656,92c86ef21cd3c07a95e8b83ff746043ab721f808@65.108.75.237:22810,0b3bb38aa26b9568c5be2a4ae476d5950322ace4@135.181.163.122:26566,9cc861f989f06a9aae0702165a740b92756d6c7a@159.89.228.180:61003,f713f0a675d0a22024dae0e297a04bd3fe6a1b28@18.184.128.173:26766,ef929915c90c66cfa93959030211a2bee431a912@143.198.143.131:44656,e0d77472e22ef725651f7c5e1b45abfb94f1b287@52.78.21.222:26656,dd64f68070847a00413ecbe2dc0ed01e584ace57@146.59.85.223:35656
```

### genesis
```
wget https://raw.githubusercontent.com/b-harvest/game-of-chains/main/crescent/crescent-ccv-genesis.json
mv crescent-ccv-genesis.json genesis.json
```

### Faucet : goc-crescent
```
- Balance
http://51.195.88.107:8000/balance?address={CRESCENT_ADDRESS}&chain=goc-crescent

- Request
http://51.195.88.107:8000/request?address={CRESCENT_ADDRESS}&chain=goc-crescent
```
